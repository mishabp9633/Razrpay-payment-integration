{"ast":null,"code":"var _jsxFileName = \"/home/mohammedmishab/Desktop/Razorpay integration/razorpay_in_mern_stack/client/src/App.js\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport { useState } from \"react\";\nimport \"./App.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const [book, setBook] = useState({\n    name: \"The Fault In Our Stars\",\n    author: \"John Green\",\n    img: \"https://images-na.ssl-images-amazon.com/images/I/817tHNcyAgL.jpg\",\n    price: 250\n  });\n\n  const initPayment = data => {\n    const options = {\n      key: process.env.key_id,\n      amount: data.amount,\n      currency: data.currency,\n      name: book.name,\n      description: \"Test Transaction\",\n      image: book.img,\n      order_id: data.id,\n      handler: async response => {\n        try {\n          const verifyUrl = \"http://localhost:8080/api/payment/verify\";\n          const {\n            data\n          } = await axios.post(verifyUrl, response);\n          console.log(data);\n        } catch (error) {\n          console.log(error);\n        }\n      },\n      theme: {\n        color: \"#3399cc\"\n      }\n    };\n    const rzp1 = new window.Razorpay(options);\n    rzp1.open();\n  };\n\n  const handlePayment = async () => {\n    try {\n      const orderUrl = \"http://localhost:8080/api/payment/orders\";\n      const {\n        data\n      } = await axios.post(orderUrl, {\n        amount: book.price\n      });\n      console.log(data);\n      initPayment(data.data);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"book_container\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: book.img,\n        alt: \"book_img\",\n        className: \"book_img\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"book_name\",\n        children: book.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"book_author\",\n        children: [\"By \", book.author]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"book_price\",\n        children: [\"Price : \", /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"\\u20B9 \", book.price]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 14\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handlePayment,\n        className: \"buy_btn\",\n        children: \"buy now\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 3\n  }, this);\n}\n\n_s(App, \"U+hdEILzHi18s46opcRUCOQoJO0=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/home/mohammedmishab/Desktop/Razorpay integration/razorpay_in_mern_stack/client/src/App.js"],"names":["axios","useState","App","book","setBook","name","author","img","price","initPayment","data","options","key","process","env","key_id","amount","currency","description","image","order_id","id","handler","response","verifyUrl","post","console","log","error","theme","color","rzp1","window","Razorpay","open","handlePayment","orderUrl"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport { useState } from \"react\";\nimport \"./App.css\";\n\nfunction App() {\n\tconst [book, setBook] = useState({\n\t\tname: \"The Fault In Our Stars\",\n\t\tauthor: \"John Green\",\n\t\timg: \"https://images-na.ssl-images-amazon.com/images/I/817tHNcyAgL.jpg\",\n\t\tprice: 250,\n\t});\n\n\tconst initPayment = (data) => {\n\t\tconst options = {\n\t\t\tkey: process.env.key_id,\n\t\t\tamount: data.amount,\n\t\t\tcurrency: data.currency,\n\t\t\tname: book.name,\n\t\t\tdescription: \"Test Transaction\",\n\t\t\timage: book.img,\n\t\t\torder_id: data.id,\n\t\t\thandler: async (response) => {\n\t\t\t\ttry {\n\t\t\t\t\tconst verifyUrl = \"http://localhost:8080/api/payment/verify\";\n\t\t\t\t\tconst { data } = await axios.post(verifyUrl, response);\n\t\t\t\t\tconsole.log(data);\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.log(error);\n\t\t\t\t}\n\t\t\t},\n\t\t\ttheme: {\n\t\t\t\tcolor: \"#3399cc\",\n\t\t\t},\n\t\t};\n\t\tconst rzp1 = new window.Razorpay(options);\n\t\trzp1.open();\n\t};\n\n\tconst handlePayment = async () => {\n\t\ttry {\n\t\t\tconst orderUrl = \"http://localhost:8080/api/payment/orders\";\n\t\t\tconst { data } = await axios.post(orderUrl, { amount: book.price });\n\t\t\tconsole.log(data);\n\t\t\tinitPayment(data.data);\n\t\t} catch (error) {\n\t\t\tconsole.log(error);\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className=\"App\">\n\t\t\t<div className=\"book_container\">\n\t\t\t\t<img src={book.img} alt=\"book_img\" className=\"book_img\" />\n\t\t\t\t<p className=\"book_name\">{book.name}</p>\n\t\t\t\t<p className=\"book_author\">By {book.author}</p>\n\t\t\t\t<p className=\"book_price\">\n\t\t\t\t\tPrice : <span>&#x20B9; {book.price}</span>\n\t\t\t\t</p>\n\t\t\t\t<button onClick={handlePayment} className=\"buy_btn\">\n\t\t\t\t\tbuy now\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}